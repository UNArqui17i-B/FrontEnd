<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/app-layout/app-header/app-header.html">
<link rel="import" href="../bower_components/app-layout/app-toolbar/app-toolbar.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-menu-button/paper-menu-button.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">}
<link rel="import" href="../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../bower_components/paper-item/paper-item.html">
<link rel="import" href="../bower_components/ibm-toolbar/ibm-toolbar.html">
<link rel="import" href="../bower_components/ibm-tabs/ibm-tabs.html">
<link rel="import" href="../bower_components/ibm-tabs/ibm-tab.html">
<link rel="import" href="../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="shared-styles.html">
<link rel="import" href="auth-header.html">

<dom-module id="custom-header">
  <template>
    <style>
      app-header {
        color: #fff;
        background-color: var(--app-primary-color);
      }

      paper-menu-button {
        padding: 0;
      }

      paper-button {
        color: #3b6caa;
        font-size: 16px;
        text-transform: none;
        font-weight: normal;
      }

      paper-button:active {
        font-weight: normal;
      }

      a.link-menu, a.link-menu:visited, a.link-menu:active{
        text-decoration: none;
        font-weight: normal;
        color: #000;
      }

      a.logo, a.logo:visited, a.logo:active{
        text-decoration: none;
        color: #000;
      }

      a.logo paper-item:hover{
        background-color: #ccc;
      }

    </style>

    <app-header condenses reveals effects="waterfall">
      <ibm-toolbar>

        <div main-title>
          <a href="/" class="logo">BlinkBox</a>
        </div>

        <!-- not logged -->
        <template is="dom-if" if="{{!username}}">
          <auth-header></auth-header>
        </template>

        <!-- logged -->
        <template is="dom-if" if="{{username}}">
          <ibm-tabs spacer role="navigation">
            <a href="/owned" tabindex="-1">
              <ibm-tab>Mis archivos</ibm-tab>
            </a>
            <a href="/shared" tabindex="-1">
              <ibm-tab>Compartidos conmigo</ibm-tab>
            </a>
          </ibm-tabs>

          <paper-menu-button>
              <paper-button class="dropdown-trigger">
              <span>[[ username ]]</span>
              <paper-icon-button noink icon="more-vert"></paper-icon-button>
              </paper-button>

            <div class="dropdown-content"></div>
            <paper-menu class="dropdown-content">
              <a href="/account" class="link-menu">
                <paper-item>Mi cuenta</paper-item>
              </a>
              <a href="/logout" class="link-menu">
              <paper-item>Cerrar sesi√≥n</paper-item>
              </a>
            </paper-menu>
          </paper-menu-button>
        </template>

      </ibm-toolbar>

    </app-header>
  </template>

  <script>
    Polymer({
      is: 'custom-header',

      properties: {
        backendUrl: {
          type: String,
        },
      },
    });
  </script>
</dom-module>
