<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../paper-styles/typography.html"><link rel="import" href="vaadin-date-picker-helper.html"></head><body><dom-module id="vaadin-month-calendar"><template><style>:host{display:block;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font:inherit;@apply (--paper-font-common-base);@apply (--vaadin-date-picker-calendar);}#title{color:var(--primary-text-color);text-align:center;padding:6px 0;@apply (--paper-font-subhead);@apply (--vaadin-date-picker-calendar-title);}#monthGrid{display:flex;flex-wrap:wrap;}#monthGrid div{text-align:center;width:calc(14.285714286% - 2px);margin:0 1px;box-sizing:border-box;padding:6px 0;@apply (--paper-font-body1);@apply (--vaadin-date-picker-calendar-cell);}:host([week-numbers]) #monthGrid div{width:calc(12.5% - 2px);}#monthGrid div:not(:empty){cursor:pointer;color:var(--primary-text-color);@apply (--vaadin-date-picker-calendar-date-cell);}#monthGrid div:not(:empty):not([disabled]):not(.weekday):not(.weeknumber):active{background:var(--light-primary-color);border-radius:2px;}#monthGrid div.weekday{text-transform:uppercase;color:var(--secondary-text-color);cursor:default;padding:8px 0;@apply (--paper-font-caption);@apply (--vaadin-date-picker-calendar-weekday-cell);}#monthGrid div.weekday:empty,
      #monthGrid div.weeknumber{width:calc(10% - 2px);padding-right:1.25%;}#monthGrid div[today]{position:relative;color:var(--primary-color);@apply (--vaadin-date-picker-calendar-cell-today);}#monthGrid div[today][selected]{@apply (--vaadin-date-picker-calendar-cell-today-selected);}#monthGrid div[focused]{background:var(--light-primary-color);box-sizing:border-box;border-radius:2px;@apply (--vaadin-date-picker-calendar-cell-focused);}:host([focused]) #monthGrid div[focused]{background:var(--primary-color);color:var(--primary-background-color);@apply (--vaadin-date-picker-calendar-focused-cell-focused);}#monthGrid div[selected]{font-weight:600;@apply (--vaadin-date-picker-calendar-cell-selected);}#monthGrid div[today][selected]{@apply (--vaadin-date-picker-calendar-cell-today-selected);}#monthGrid div[disabled]{opacity:0.3;cursor:default;@apply (--vaadin-date-picker-calendar-cell-disabled);}#monthGrid div.weeknumber{cursor:default;color:rgba(0, 0, 0, 0.4);@apply (--paper-font-caption);@apply (--vaadin-date-picker-calendar-weeknumber-cell);}</style><div id="title" role="heading">[[_getTitle(month, i18n.monthNames)]]</div><div id="monthGrid" on-tap="_handleTap" on-touchend="_preventDefault" on-touchstart="_onMonthGridTouchStart"><template is="dom-repeat" items="[[_getWeekDayNames(i18n.weekdays, i18n.weekdaysShort, showWeekNumbers, i18n.firstDayOfWeek)]]"><div class="weekday" role="heading" aria-label$="[[item.weekDay]]">[[item.weekDayShort]]</div></template><template is="dom-repeat" items="[[_days]]"><template is="dom-if" if="[[_showWeekSeparator(showWeekNumbers, i18n.firstDayOfWeek, index)]]"><div class="weeknumber" role="heading" aria-label$="[[i18n.week]] [[_getWeekNumber(item, _days)]]">[[_getWeekNumber(item, _days)]]</div></template><div today$="[[_isToday(item)]]" selected$="[[_dateEquals(item, selectedDate)]]" focused$="[[_dateEquals(item, focusedDate)]]" date="[[item]]" disabled$="[[!_dateAllowed(item, minDate, maxDate)]]" role$="[[_getRole(item)]]" aria-label$="[[_getAriaLabel(item)]]" aria-disabled$="[[_getAriaDisabled(item, minDate, maxDate)]]">[[_getDate(item)]]</div></template></div></template><script>Polymer({is:'vaadin-month-calendar',properties:{month:{type:Date,value:new Date},selectedDate:{type:Date,notify:!0},focusedDate:Date,showWeekNumbers:{type:Boolean,value:!1},i18n:{type:Object},ignoreTaps:Boolean,_notTapping:Boolean,minDate:{type:Date,value:null},maxDate:{type:Date,value:null},_days:{type:Array,computed:'_getDays(month, i18n.firstDayOfWeek, minDate, maxDate)'}},observers:['_showWeekNumbersChanged(showWeekNumbers, i18n.firstDayOfWeek)'],_getTitle:function(a,b){return this.i18n.formatTitle(b[a.getMonth()],a.getFullYear())},_dateEquals:vaadin.elements.datepicker.DatePickerHelper._dateEquals,_onMonthGridTouchStart:function(){this._notTapping=!1,this.async(function(){this._notTapping=!0},300)},_dateAdd:function(a,b){a.setDate(a.getDate()+b)},_applyFirstDayOfWeek:function(a,b){return a.slice(b).concat(a.slice(0,b))},_getWeekDayNames:function(a,b,c,f){return a=this._applyFirstDayOfWeek(a,f),b=this._applyFirstDayOfWeek(b,f),a=a.map(function(g,h){return{weekDay:g,weekDayShort:b[h]}}),c&&1===f&&a.unshift({weekDay:'',weekDayShort:''}),a},_getDate:function(a){return a?a.getDate():''},_showWeekNumbersChanged:function(a,b){this.toggleAttribute('week-numbers',a&&1===b)},_showWeekSeparator:function(a,b,c){return a&&1===b&&0===c%7},_isToday:function(a){return this._dateEquals(new Date,a)},_getDays:function(a,b){var c=new Date(0,0);for(c.setFullYear(a.getFullYear()),c.setMonth(a.getMonth()),c.setDate(1);c.getDay()!==b;)this._dateAdd(c,-1);for(var f=[],g=c.getMonth(),h=a.getMonth();c.getMonth()===h||c.getMonth()===g;)f.push(c.getMonth()===h?new Date(c.getTime()):null),this._dateAdd(c,1);return f},_getWeekNumber:function(a,b){return a||(a=b.reduce(function(c,f){return!c&&f?f:c})),vaadin.elements.datepicker.DatePickerHelper._getISOWeekNumber(a)},_handleTap:function(a){this.ignoreTaps||this._notTapping||!a.target.date||a.target.hasAttribute('disabled')||(this.selectedDate=a.target.date,this.fire('date-tap'))},_preventDefault:function(a){a.preventDefault()},_dateAllowed:vaadin.elements.datepicker.DatePickerHelper._dateAllowed,_getRole:function(a){return a?'button':'presentational'},_getAriaLabel:function(a){if(!a)return'';var b=this._getDate(a)+' '+this.i18n.monthNames[a.getMonth()]+' '+a.getFullYear()+', '+this.i18n.weekdays[a.getDay()];return this._isToday(a)&&(b+=', '+this.i18n.today),b},_getAriaDisabled:function(a,b,c){return this._dateAllowed(a,b,c)?'false':'true'}});</script></dom-module></body></html>