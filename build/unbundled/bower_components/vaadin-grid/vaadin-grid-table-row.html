<html><head><link rel="import" href="vaadin-grid-table-cell.html"></head><body><dom-module id="vaadin-grid-table-row"></dom-module><dom-module id="vaadin-grid-table-header-row"></dom-module><script>(function(){var c={extends:'tr',properties:{active:{type:Boolean,reflectToAttribute:!0,value:!1},columns:Array,index:Number,cells:{value:[]},target:Object,expanded:{value:!1},focused:{type:Boolean,reflectToAttribute:!0},item:Object,selected:{reflectToAttribute:!0},_rowDetailsCell:Object,rowDetailsTemplate:Object},observers:['_columnsChanged(columns, target)','_indexChanged(index, cells)','_itemChanged(item, cells)','_itemChangedForDetails(item, _rowDetailsCell)','_rowDetailsChanged(expanded, rowDetailsTemplate, target)','_rowDetailsCellIndexChanged(_rowDetailsCell, index)','_rowDetailsCellChanged(_rowDetailsCell, target)','_selectedChanged(selected, cells)','_selectedChangedForDetails(selected, _rowDetailsCell)'],iterateCells:function(d){this.cells.forEach(d),this._rowDetailsCell&&d(this._rowDetailsCell)},_rowDetailsChanged:function(d,e,f){if(d){var g=document.createElement('td','vaadin-grid-table-cell');g.setAttribute('detailscell',!0),g.frozen=!0,g.target=f,g.template=e,g.toggleAttribute('lastcolumn',!0),Polymer.dom(this.root).appendChild(g),Polymer.dom.flush(),this._rowDetailsCell=g}else this._rowDetailsCell&&(Polymer.dom(this.root).removeChild(this._rowDetailsCell),this._rowDetailsCell=null);this.iterateCells(function(h){h.expanded=d}),this.target.$.scroller._frozenCellsChanged()},_updateRowVisibility:function(){this.hidden=this.cells.every(function(d){return d._isEmpty})},_rowDetailsCellChanged:function(d,e){e.$.scroller._update()},_rowDetailsCellIndexChanged:function(d,e){d?(d.index=e,Polymer.dom.flush(),this.updateRowDetailsCellMetrics()):this.style.paddingBottom=''},updateRowDetailsCellMetrics:function(){this._rowDetailsCell&&(this._rowDetailsCell.style.height='',this.style.paddingBottom=this._rowDetailsCell.style.height=this._rowDetailsCell.clientHeight+'px')},_columnsChanged:function(d){Polymer.dom(this).innerHTML='';var f=[];d.forEach(function(g){var i='_'+this.is.replace(/-/g,'_')+'_cells',j=g[i]=g[i]||[],k=j.filter(function(l){return!Polymer.dom(l).parentNode})[0];k||(k=this._createCell(),j.push(k)),k.index=this.index,k.target=this.target,k._isColumnRow=this._isColumnRow,k.column=g,Polymer.dom(this).appendChild(k),f.push(k)}.bind(this)),this.cells=f},_indexChanged:function(d,e){e.forEach(function(g){g.index=d})},_itemChanged:function(d,e){e.forEach(function(f){f.item=d})},_itemChangedForDetails:function(d,e){e&&(e.item=d)},_selectedChanged:function(d,e){e.forEach(function(f){f.selected=d})},_selectedChangedForDetails:function(d,e){e&&(e.selected=d)},updateLastColumn:function(){this.cells.slice(0).sort(function(d,e){return d.column._order-e.column._order}).forEach(function(d,e,f){d.toggleAttribute('lastcolumn',e===f.length-1)})}};Polymer({is:'vaadin-grid-table-row',behaviors:[c],_createCell:function(){return document.createElement('td','vaadin-grid-table-cell')}}),Polymer({is:'vaadin-grid-table-header-row',behaviors:[c],observers:['_updateRowVisibility(columns)'],listeners:{'cell-empty-changed':'_updateRowVisibility'},_createCell:function(){return document.createElement('th','vaadin-grid-table-header-cell')}}),Polymer({is:'vaadin-grid-table-footer-row',behaviors:[c],observers:['_updateRowVisibility(columns)'],listeners:{'cell-empty-changed':'_updateRowVisibility'},_createCell:function(){return document.createElement('td','vaadin-grid-table-footer-cell')}})})();</script></body></html>