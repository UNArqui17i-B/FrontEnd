<html><head><script>window.vaadin=window.vaadin||{},vaadin.elements=vaadin.elements||{},vaadin.elements.grid=vaadin.elements.grid||{},vaadin.elements.grid.FocusableCellContainerBehavior={properties:{focused:{type:Boolean,reflectToAttribute:!0},_focusedRow:Object,_focusedRowIndex:Number,_focusedCell:Object,_focusedCellIndex:Number,_lastFocusedCell:Object},observers:['_announceFocusedCell(_focusedCell, focused)','_dispatchEvents(_focusedCell, focused)','_focusedCellChanged(_focusedRowIndex, _focusedCellIndex)'],_announceFocusedCell:function(a,b){if(this.domHost.navigating&&b){var c=a._cellContent.id;if('vaadin-grid-table-body'===this.is&&!a.hasAttribute('detailscell')){var d=Polymer.dom(a.parentElement).querySelectorAll('td').indexOf(a),f=this.domHost.$.header.lastElementChild,g=f.children[d];c=g._cellContent.id+' '+c}this._getFocusTrap().activeTarget=c}},_dispatchEvents:function(a,b){this._lastFocusedCell&&(this._lastFocusedCell._cellContent.dispatchEvent(new CustomEvent('cell-focusout')),this._lastFocusedCell=void 0),b&&(a._cellContent.dispatchEvent(new CustomEvent('cell-focusin')),this._lastFocusedCell=a)},_focusedCellChanged:function(a,b){Polymer.dom(this).children.forEach(function(c,d){c.focused=d===a,c.focused&&(this._focusedRow=c,this._focusedCellIndex=Math.min(b,c.children.length-1),this._focusedCell=c.children[this._focusedCellIndex]),c.cells.forEach(function(f,g){f.focused=g===this._focusedCellIndex}.bind(this))}.bind(this))},_getFocusTrap:function(){switch(this.is){case'vaadin-grid-table-header':return this.domHost.$.headerFocusTrap;case'vaadin-grid-table-body':return this.domHost.$.bodyFocusTrap;case'vaadin-grid-table-footer':return this.domHost.$.footerFocusTrap;}},focusLeft:function(){if(!this._focusedCell.hasAttribute('detailscell')){var a=this._visibleCellIndexes();if(0<a.length){var b=a.indexOf(this._focusedCellIndex);this._focusedCellIndex=a[Math.max(0,b-1)]}}},focusDown:function(){this._focusedRowIndex=Math.min(this._focusedRowIndex+1,this.children.length-1)},_visibleCellIndexes:function(){var a=[];if(this._focusedRow&&this._focusedRow.children){for(var b=this._focusedRow.children,c=0;c<b.length;c++)b[c].hidden||b[c]===this._focusedRow._rowDetailsCell||a.push(c);a.sort(function(d,f){return b[d].column._order<b[f].column._order?-1:1})}return a},focusPageDown:function(){this._focusedRowIndex=Math.min(this._focusedRowIndex+10,this.children.length-1)},focusPageUp:function(){this._focusedRowIndex=Math.max(0,this._focusedRowIndex-10)},focusRight:function(){if(!this._focusedCell.hasAttribute('detailscell')){var a=this._visibleCellIndexes();if(0<a.length){var b=a.indexOf(this._focusedCellIndex);this._focusedCellIndex=a[Math.min(b+1,a.length-1)]}}},focusUp:function(){this._focusedRowIndex=Math.max(0,this._focusedRowIndex-1)},focusHome:function(){if(!this._focusedCell.hasAttribute('detailscell')){var a=this._visibleCellIndexes();0<a.length&&(this._focusedCellIndex=a[0])}},focusEnd:function(){if(!this._focusedCell.hasAttribute('detailscell')){var a=this._visibleCellIndexes();0<a.length&&(this._focusedCellIndex=a[a.length-1])}},focusFirst:function(){this._focusedRowIndex=0,this.focusHome()},focusLast:function(){this._focusedRowIndex=this.children.length-1,this.focusEnd()}};</script></head><body></body></html>